#Architecture #DDD #Book

## λ„¤ κ°μ μμ—­
**ν‘ν„(Presentation), μ‘μ©(Application), λ„λ©”μΈ([[Domain]]), μΈν”„λΌμ¤νΈλ­μ²(Infrastructure)**λ” μ•„ν‚¤ν…μ²λ¥Ό μ„¤κ³„ν•  λ• μ¶ν„ν•λ” μ „ν•μ μΈ λ„¤ κ°€μ§€ μμ—­μ΄λ‹¤.

## ν‘ν„ μμ—­
ν‘ν„ μμ—­μ€ Springμ—μ„ ControllerλΌκ³  μƒκ°ν•λ©΄ λλ‹¤. μ‚¬μ©μμ μ”μ²­μ„ ν•΄μ„ν•λ‹¤.

![[4layers.png]]

> [!example]+ 
> URL, μ”μ²­ νλΌλ―Έν„°, μΏ ν‚¤, ν—¤λ” λ“±

## μ‘μ© μμ—­
μ‘μ© μμ—­μ€ Springμ—μ„ ServiceλΌκ³  μƒκ°ν•λ©΄ λλ‹¤. ν•μ§€λ§ μ‘μ© μ„λΉ„μ¤λ” λ΅μ§μ„ μ§μ ‘ μν–‰ν•κΈ°λ³΄λ‹¤λ” **λ„λ©”μΈ λ¨λΈμ— λ΅μ§ μν–‰μ„ μ„μ„ν•λ‹¤.**

> [!info]+ 
> μ‘μ© μμ—­μ€ λ„λ©”μΈ λ¨λΈμ„ μ΄μ©ν•΄μ„ **μ‚¬μ©μμ—κ² μ κ³µν•  κΈ°λ¥μ„ κµ¬ν„**ν•λ‹¤.  μ‹¤μ  λ„λ©”μΈ λ΅μ§ κµ¬ν„μ€ λ„λ©”μΈ λ¨λΈμ— μ„μ„ν•λ‹¤.

![[service.png]]
## λ„λ©”μΈ μμ—­
λ„λ©”μΈ μμ—­μ€ λ„λ©”μΈ λ¨λΈμ„ κµ¬ν„ν•λ‹¤. λ„λ©”μΈ λ¨λΈμ€ **λ„λ©”μΈμ ν•µμ‹¬ λ΅μ§μ„ κµ¬ν„**ν•λ‹¤.

## μΈν”„λΌμ¤νΈλ­μ²
μΈν”„λΌμ¤νΈλ­μ²λ” κµ¬ν„ κΈ°μ μ— λ€ν• κ²ƒμ„ λ‹¤λ£¬λ‹¤. λ…Όλ¦¬μ μΈ κ°λ…μ„ ν‘ν„ν•κΈ°λ³΄λ‹¤λ” **μ‹¤μ  κµ¬ν„**μ„ λ‹¤λ£¬λ‹¤.
ν‘ν„ μμ—­, μ‘μ© μμ—­, λ„λ©”μΈ μμ—­μ„ μ§€μ›ν•λ‹¤. λ‹¤λ¥Έ μμ—­μ—μ„ ν•„μ”λ΅ ν•λ” ν”„λ μ„μ›ν¬, κµ¬ν„ κΈ°μ , λ³΄μ΅° κΈ°λ¥μ„ μ§€μ›ν•λ‹¤.

> [!example]+ 
> + RDBMS μ—°λ™
> + Message queue
> + Redis
> + RestApiνΈμ¶
![[infrastructure.png]]


## μμ—­ μ‚¬μ΄μ κ΄€κ³„ : μΈν”„λΌμ¤νΈλ­μ²μ— μμ΅΄
λ„λ©”μΈ μμ—­, μ‘μ© μμ—­, ν‘ν„ μμ—­μ€ **κµ¬ν„ κΈ°μ μ„ μ‚¬μ©ν• μ½”λ“λ¥Ό μ§μ ‘ λ§λ“¤μ§€ μ•λ”λ‹¤.** λ€μ‹  μΈν”„λΌμ¤νΈλ­μ² μμ—­μ—μ„ μ κ³µν•λ” κΈ°λ¥μ„ μ‚¬μ©ν•΄μ„ ν•„μ”ν• κΈ°λ¥μ„ κ°λ°ν•λ‹¤.

> [!important]+ 
> μ‘μ© μμ—­μ—μ„ DBμ— λ³΄κ΄€λ λ°μ΄ν„°κ°€ ν•„μ”ν•λ‹¤λ©΄ μΈν”„λΌμ¤νΈλ­μ² μμ—­μ DB λ¨λ“μ„ μ‚¬μ©ν•μ—¬ λ°μ΄ν„°λ¥Ό μ½μ–΄μ¨λ‹¤. ν•μ§€λ§ μ§κ³  λ„μ–΄κ°€μ•Ό ν•  μ μ€, **ν‘ν„, μ‘μ©, λ„λ©”μΈ κ³„μΈµμ΄ μƒμ„Έν• κµ¬ν„ κΈ°μ μ„ λ‹¤λ£¨λ” μΈν”„λΌμ¤νΈλ­μ² κ³„μΈµμ— μΆ…μ†λλ‹¤λ” μ **μ΄λ‹¤.
> ![[π§ Organize μκµ¬λ…ΈνΈ/π£ Archive λ³΄κ΄€μ†/img/Book/λ„λ©”μΈ μ£Όλ„ κ°λ° μ‹μ‘ν•κΈ°/dependency.png]]

μ΄λ ‡κ² μΈν”„λΌμ¤νΈλ­μ²μ— μΆ…μ†λλ” λ°©μ‹μ€ λ™μ‘μ€ ν•κ² μ§€λ§ λ‘ κ°€μ§€μ λ¬Έμ μ μ΄ μλ‹¤.

> [!summary]+ 
> 1. μ‘μ© κ³„μΈµλ§ ν…μ¤νΈν•κΈ° μ–΄λ µλ‹¤.
> 2. κµ¬ν„ λ°©μ‹μ„ λ³€κ²½ν•κΈ° μ–΄λ µλ‹¤.(= κΈ°λ¥ ν™•μ¥μ— μ–΄λ ¤μ›€μ΄ μλ‹¤.)

μ΄ λ¬Έμ μ ν•΄λ‹µμ€ [[DIP]]μ— μλ‹¤.

> [!note]+ 
> λ¬΄μ΅°κ±΄ μΈν”„λΌμ¤νΈλ­μ²μ— λ€ν• μμ΅΄μ„ μ—†μ•¨ ν•„μ”λ” μ—†λ‹¤. κ°€μ¥ μΆ‹μ€ μμ‹λ” @Transactionalμ΄λ‹¤.
> 
> κµ¬ν„μ νΈλ¦¬ν•¨μ€ DIPκ°€ μ£Όλ” λ‹¤λ¥Έ μ¥μ λ§νΌ μ¤‘μ”ν•κΈ° λ•λ¬Έμ— DIPμ μ¥μ μ„ ν•΄μΉμ§€ μ•λ” λ²”μ„μ—μ„ μ‘μ© μμ—­κ³Ό λ„λ©”μΈ μμ—­μ—μ„ κµ¬ν„ κΈ°μ μ— λ€ν• μμ΅΄μ„ κ°€μ Έκ°€λ” κ²ƒμ΄ λ‚μμ§€ μ•λ‹¤κ³  μƒκ°ν•λ‹¤.