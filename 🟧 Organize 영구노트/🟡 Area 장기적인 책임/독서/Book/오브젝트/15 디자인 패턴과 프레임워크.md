#OOP #Book

14장 : 협력 패턴

## 디자인 패턴
소프트웨어 설계에서 반복적으로 발생하는 문제에 대해 반복적으로 적용할 수 있는 해결 방법
다양한 변경을 다루기 위해 반복적으로 재사용할 수 있는 설계의 묶음

디자인 패턴의 목적은 설계를 재사용하는 것

하나의 실무 컨텍스트에서 유용하게 사용해 왔고 다른 실무 컨텍스트에서도 유용할 것이라고 예상되는 아이디어
<GoF의 디자인패턴>
## 프레임워크
디자인패턴이 설계를 재사용하기 위한 것이라면 프레임워크는 설계와 코드를 함께 재사용하기 위한 것
프레임워크는 애플리케이션의 아키텍쳐를 구현 코드의 형태로 제공

디자인패턴이 협력을 일관성 있게 재사용할수 있는 설계의 묶음이라면, 프레임워크는 일관성 있는 협력을 제공하는 확장 가능한 코드라 할 수 있다.
즉, 디자인패턴과 프레임워크는 모두 협력을 일관성 있게 만들기 위한 방법이다.

### 패턴 분류
아키텍쳐 패턴, 분석 패턴, 디자인 패턴, 이디엄

아키텍처 -> 디자인 -> 이디엄(프로그래밍 언어 레벨) / 기술적인 문제
분석 패턴 : 도메인 내 개념적인 문제 해결

## 패턴과 책임-주도 설계
책임을 올바른 객체에게 할당하고 객체 간의 유연한 협력 관계를 구축하자.

패턴은 공통을 사용할 수 있는 역할, 책임, 협력의 템플릿

STRATEGY 패턴 : 다양한 알고리즘을 동적으로 교체할 수 있는 역할과 책임의 집합을 제공한다.
BRIDGE 패턴 : 추상화의 조합으로 인한 클래스의 폭발적인 증가 문제를 해결하기 위해 역할과 책임을 추상화와 구현의 두 개의 커다란 집합으로 분해함으로써 설계를 확장 가능하게 만든다.
OBSERVER패턴 : 유연한 통지 메커니즘을 구축하기 위해 객체 간의 결합도를 낮출 수 있는 역할과 책임의 집합을 제공한다.

**패턴의 구성 요소는 클래스가 아니라 역할**

COMPOSITE 패턴을 따르는 할인 구조
COMPOSITE 패턴 :객체의 수를 캡슐화

디자인 패턴의 구성요소는 클래스와 메서드가 아니라 역할과 책임이다.

TEMPLATE METHOD 패턴 : 알고리즘을 캡슐화하기 위해 합성 관계가 아닌 상속 관계를 사용하는 것
DECORATOR 패턴 : 객체의 행동을 동적으로 추가할 수 있게 해주는 패턴으로, 선택적인 행동의 개수와 순서에 대한 변경을 캡슐화

패턴 지향. 패턴을 목표로 리팩토링하기. 패턴 만능주의 금지

## 코드 재사용 대 설계 재사용
프레임워크 : 추상 클래스나 인터페이스를 정의하고 인스턴스 사이의 상호작용을 통해 시스템 전체 혹은 일부를 구현해 높은 재사용 가능한 설계

라이브러리 : 코드 재사용

프레임워크는 설계 자체의 재사용을 중요시한다.

프레임워크의 핵심은 추상화

## 제어 역전
상위 정책을 재사용 -> 도메인에 존재하는 핵심 개념들 사이의 협력 관계를 재사용한다는 것

훌륭한 객체지향 설계는 의존성이 역전된 설계

전통적인 구조 : 상위 정책이 구체적인 세부사항에 의존. 상위 정책의 코드가 하부의 구체적인 코드 호출
객체지향 : 프레임워크가 애플리케이션에 속하는 서브클래스의 메서드 호출