#Docker 

도커의 이미지를 보다 보면 의문점이 하나 생길 수 있다. 실행에 관련 된 모든 파일을 포함하고 있다면 용량이 매우 클 것 같은데, 만약 기존 이미지에 파일하나 더 추가했다고 다시 그 큰 용량을 다운로드 받아야 하나? 그렇다면 굉장히 비효울적이지 않을까?

실제로 이것은 매우 비효율적이기 때문에, 도커는 **레이어 저장방식**을 이용한다.

## 레이어(Layer) 저장방식
유니온 파일 시스템(Union File System)을 이용하여 여러개의 Layer를 하나의 파일시스템으로 만드는 방식을 뜻한다.
![[layer.png]]

이미지 하나는 여러 개의 **불변(immutable) layer**로 구성된다. 어떤 한 이미지가 있을때, 다른 이미지를 가져올(pull) 일이 있다면 어떻게 될까? 예를 들어 ubuntu 이미지가 있을 때 nginx 이미지를 가져오려고 하면, 중복되는 레이어는 가져오지 않는다.(실제로 동일한 것은 아니지만 예시를 위함이다.) 이 경우에는 **이미 존재하는 레이어는 다운받지 않고 새로 필요한 레이어만 다운로드받아 새 이미지를 구성**한다.