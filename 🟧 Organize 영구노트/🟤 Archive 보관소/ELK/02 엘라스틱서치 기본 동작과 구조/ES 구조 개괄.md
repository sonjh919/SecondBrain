#Elasticsearch 
### 문서(document)
ES가 저장하고 색인을 생성하는 **JSON 문서**를 뜻한다.
### 인덱스
문서를 모아 놓은 단위가 인덱스다. 클라이언트는 이 인덱스 단위로 ES에 검색을 요청하게 된다.
### 샤드
인덱스는 그 내용을 여러 샤드로 분리하여 분산 저장한다. 또한 ES는 고가용성을 제공하기 위해 샤드의 내용을 복제해 준다. 원본 역할을 담당하는 샤드를 주 샤드(primary shard)라고 하고 복제본을 복제본 샤드(replication shard)라고 한다.
![[index.jpg]]
### \_id
인덱스 내 문서에 부여되는 고유한 구분자이다. **인덱스 이름과 \_id의 조합은 ES 클러스터 내에서 고유**하다.
### 타입(deprecated)
7 버전부터 지원 중단. 타입 이름의 자리에는 기본값인 \_doc이 들어간 API를 사용해야 한다.
### 노드
1. ES 프로세스 하나가 노드 하나를 구성한다.
2. ES 노드 하나는 여러 개의 샤드를 가진다.
3. ES는 고가용성을 제공하기 위해 같은 종류의 샤드를 같은 노드에 매치하지 않는다.
### 클러스터
ES 노드 여러 개가 모여 하나의 클러스터를 구성한다.
![[cluster.jpg]]

## 노드의 역할
ES의 노드는 데이터 노드, 마스터 노드, 조정 노드 등 여러 역할 중 하나 이상의 역할을 맡아 수행한다.

### 데이터 노드
샤드를 보유하고 샤드에 실제 읽기와 쓰기 작업을 수행하는 노드

### 마스터 노드
클러스터를 관리하는 중요한 역할을 하는 노드를 말한다. 마스터 노드는 마스터 후보 노드 중에서 1대가 선출된다.

### 조정 노드
클라이언트의 요청을 받아서 데이터 노드에 요청을 분배하고 클라이언트에 응답을 돌려주는 노드