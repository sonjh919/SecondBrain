#Redis 


## Redis의 주의사항
> [!summary]+ 
> + 시간 복잡도
> + 메모리 파편화
> 

### 시간 복잡도
레디스는 자바스크립트와 같이 **싱글 쓰레드** 기반으로 돌아간다.
그래서 한 번에 딱 하나의 명령어만 실행하기 때문에, 긴 처리시간이 필요한 명령어를 쓰면 불리하고 요청 건을 처리하기 전까지 다른 서비스 요청을 받아들일수 없고 서버가 다운 되는 현상이 일어 날 수 있다.
따라서 전체 데이터를 다루는 시간복잡도(**O(N)**)가 높은 명령어들은 주의해서 사용할 필요가 있다.

![[singlethread.png]]


### 메모리 파편화
메모리를 할당 받고 해제 하는 과정에서 부분부분 빈 공간이 생기게 되는데, 새로운 메모리를 할당할때 알맞는 공간이 없기 때문에 프로세스가 위치해야 되는 곳이 한정되고, 그러면 빈 공간 메모리가 남아 낭비가 발생하게 된다. 그리고 이 현상이 계속되면 실제 physical 메모리가 커져 프로세스가 죽는 현상이 발생 할 수도 있다. 또한 쓰기 연산이 copy on wirte 방식으로 동작하기 때문에 최대 메모리를 2배 이상까지 사용하기도 한다.

그래서 **redis를 사용할때 메모리를 적당히 여유있게 사용하는 것이 좋다.**

![[memory.png]]
