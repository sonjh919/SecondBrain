#Architecture #DDD #Book


## Aggregate
도메인이 커질수록 개발할 도메인 모델도 커지면서 많은 [[Entity와 Value]]가 출현한다. 엔티티와 밸류 개수가 많아질수록 모델은 더 복잡해진다.

이 때 도메인 모델에서 전체 구조를 이해하는 데 도움이 되는 것이 바로 애그리거트이다.

> [!tip]+ 
> 좀 더 구현의 관점에서 보기 : [[🟠 Project/Book/도메인 주도 개발 시작하기/3. 애그리거트/Aggregate|Aggregate]]

![[🟧 Organize 영구노트/🟤 Archive 보관소/img/Book/도메인 주도 개발 시작하기/aggregate.png]]

애그리거트는 **관련 객체를 하나로 묶은 군집**이다.

> [!example]+ 
> 주문 : 주문 + 배송지 정보 + 주문자 + 주문 목록 + 총 결제 금액 + ...


애그리거트를 사용하면 개별 객체가 아닌 관련 객체를 묶어 **객체 군집 단위**로 모델을 바라볼 수 있게 된다. 객체 간 관계가 아닌 애그리거트 간의 관계로 도메인 모델을 이해하고 구현하게 되며, 큰 틀에서 도메인 모델을 관리할 수 있다.

애그리거트는 군집에 속한 객체들을 관리하는 **루트 엔티티**([[Aggregate 루트]])를 갖는다. 루트 엔티티는 애그러거트에 속해 있는 엔티티와 밸류 객체를 이용해서 애그리거트가 구현해야 할 기능을 제공한다. 애그리거트를 사용하는 코드는 애그리거트 루트가 제공하는 기능을 실행하고 애그리거트 루트를 통해서 간접적으로 애그리거트 내의 다른 엔티티나 밸루 객체에 접근하게 된다. 이는 애그리거트의 내부 구현을 숨겨서 애그리거트 단위로 구현을 캡슐화할 수 있도록 돕는다.


