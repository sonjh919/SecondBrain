#Architecture #DDD #Book

## Bounded Context 간 통합
> [!example]+ 
> 온라인 쇼핑 사이트에서 매출 증대를 위해 카탈로그 하위 도메인에 개인화 추천 기능을 도입하기로 했다고 하자. 기존 카탈로그 시스템을 개발하던 팀과 별도로 추천 시스템을 담당하는 팀이 생겨 주도적으로 만들기로 했다.

이런 경우, 카탈로그 하위 도메인에는 기존 카탈로그를 위한 바운디드 컨텍스트와 추천 기능을 위한 바운디드 컨텍스트가 생긴다. 자연스럽게 두 바운디드 컨텍스트 간 통합이 발생한다.

![[bc7.png]]

여기서 다음 기능을 구현한다고 해보자.
+ 사용자가 제품 상세 페이지를 볼 때, 보고 있는 상품과 유사한 상품 목록을 하단에 보여준다.

이때 카탈로그 컨텍스트와 추천 컨텍스트의 도메인 모델은 서로 다르다.

> [!info]+ 
> + 카탈로그 : 제품을 중심으로 도메인 모델 구현
> + 추천 : 추천 연산을 위한 모델 구현 (제품의 상세 정보는 필요없이 ID만으로 데이터 식별)

카탈로그 시스템은 추천 시스템으로부터 추천 데이터를 받아오지만, 카탈로그 시스템에서는 **추천 도메인 모델의 방식보다는 카탈로그 도메인 모델을 이용하여 추천 상품을 표현해야 한다.**

즉, 다음과 같이 카탈로그의 모델을 기반으로 하는 도메인 서비스를 이용하여 상품 추천 기능을 표현해야 한다.

```java
public interface ProductRecommendationService {
    
    List<Product> getRecommendationsOf(ProductId id);
}
```

이렇게 두 바운디드 컨텍스트를 통합하는 방법은 크게 2가지가 있다.

> [!summary]+ 
> 1. [[직접 통합]]
> 2. [[간접 통합]]

