#OOP #Book

## 객체 지향 5원칙
객체 지향의 특성을 올바르게 사용하는 방법, 즉 객체 지향 언어를 이용해 객체 지향 프로그램을 올바르게 설계해 나가는 방법이다. 객체 지향 5원칙은 **응집도를 높이고, 결합도는 낮추라**는 고전 원칙을 객체 지향의 관점에서 재정립한 개념이다. SOLID는 **객체 지향 4대 특성을 발판**으로 하고 있으며, **디자인 패턴의 뼈대**이며 **스프링 프레임워크의 근간**이 된다.

> [!summary]+ 
> 1. SRP(Single Responsibility Principle) : 단일 책임 원칙
> 2. OCP(Open Closed Principle) : 개방 폐쇄 원칙
> 3. LSP(Liskov Substitution Principle) : 리스코프 치환 원칙
> 4. ISP(Interface Segregation Principle) : 인터페이스 분리 원칙
> 5. DIP(Dependency Inversion Principle) : 의존 역전 원칙

#### 결합도 수준
데이터 결합도, 스탬프 결합도, 컨트롤 결합도, 외부 결합도, 공유 결합도, 내용 결합도

#### 응집도 수준
기능 응집도, 순차 응집도, 절차 응집도, 시간 응집도, 논리 응집도, 우연 응집도 등

## SRP - 단일 책임 원칙
+ **어떤 클래스를 변경해야 하는 이유는 오직 하나뿐이어야 한다.**
+ 분기 처리를 위한 if문이나 switch 등이 쓰인다면 책임을 분리해야 할 가능성이 높다.
+ 단일 책임 원칙과 가장 관계가 깊은 것은 모델링 과정을 담당하는 **추상화**이다.

## OCP - 개방 폐쇄 원칙
+ **소프트웨어 엔티티(클래스, 모듈, 함수 등)는 확장에 대해서는 열려 있어야 하지만 변경에 대해서는 닫혀 있어야 한다.**
+ **= 자신의 확장에는 열려 있고, 주변의 변화에 대해서는 닫혀 있어야 한다.**
+ 제일 좋은 예시는 스프링 프레임워크이다.

OCP를 공부하고 나니 **다형성**과 **확장**에 깊은 관련이 있다고 느껴졌다. 또 **캡슐화**도 들어있다는 생각도 든다.

## LSP - 리스코프 치환 원칙
+ **서브 타입은 언제나 자신의 기반 타입(base type)으로 교체할 수 있어야 한다.**
+ 객체 지향에서의 상속은 **조직도나 계층도가 아닌 분류도가 되어야 한다.**
+ is a kind of와 is able to를 잘 지키고 있다면 리스코프 치환 원칙을 만족하고 있다는 것이다.


## ISP - 인터페이스 분리 원칙
+ **클라이언트는 자신이 사용하지 않는 메서드에 의존 관계를 맺으면 안된다.**
+ 단일 책임 원칙(SRP)와 인터페이스 분할 원칙(ISP)은 같은 문제에 대한 두 가지 다른 해석이라고 볼 수 있다. 하지만 특별한 경우가 아니라면 단일 책임 원칙을 적용하는 것이 더 좋은 해결책이다.

ISP에 항상 같이 등장하는 원칙 중 하나로 **인터페이스 최소주의 원칙**이라는 것이 있다.
상속은 최대한 많은 메서드를 상위 메서드에서 정의한다. 이는 사용 불가능한 경우나 불필요한 형변환이 없어진다는 장점이 있다. 하지만 인터페이스는 그 역할에 충실한 최소한의 기능만 공개하는 것이 좋다. 많이 가져갔다가는 해당 메소드가 필요없는 클래스가 구현해야하는 불상사가 생길 수 있다.

## DIP - 의존 역전 원칙
**고차원 모듈은 저차원 모듈에 의존하면 안 된다. 이 두 모듈 모두 다른 추상화된 것에 의존해야 한다.**
**추상화된 것은 구체적인 것에 의존하면 안 된다. 구체적인 것이 추상화된 것에 의존해야 한다.**
**자주 변경되는 구체(Concrete) 클래스에 의존하지 마라.**

**즉, 자신보다 변하기 쉬운 것에 의존하지 마라.**

의존 역전 원칙을 공부하던 도중, 묘한 기시감이 느껴졌다. 이 설명은 결국 개방 폐쇄 원칙이 아닌가? 결국 하나의 해결책을 찾으면 그 안에 여러 설계 원칙이 녹아 있다는 생각이 들었다. 이 5원칙들은 따로따로가 아니라, 서로 유기적으로 연결되는 관계인 것 같다. 근데 의존 관계의 역전이라는 단어가 맞나라는 생각이 든다. 난 아예 화살표의 방향이 180도 바뀌는 줄 알았는데, 화살표가 구체화된 하위 클래스가 아니라 상위 클래스로 바뀌는 것이기 때문에 처음에 약간 오해한 감이 있는 것 같다.

## SoC
관심사의 분리(Separation of Concerns)
**관심이 같은 것끼리는 하나의 객체 안으로** 또는 친한 객체로 모으고, 관심이 다른 것은 가능한 한 따로 떨어져 서로 영향을 주지 않도록 분리하자.