#OOP #Book

## 책을 읽기 전: 객체지향이란 과연 무엇일까?
객체지향이란 무엇일까? 음... 무엇일까.. 객체를 지향한다? 그럼 객체는 뭐고, 왜 지향한다는 걸까? 내가 배운 것은 분명 수업시간에 붕어빵과 붕어빵 틀밖에 없는데.. 클래스는 객체를 찍어내는 도구다 이런거?

확실히 나는 1년 전까지만 하더라도 클래스도 배우고, 캡슐화니 상속이니 하는 것들도 다 배웠지만 막상 객체지향스럽게 짠다는 것은 어떤 느낌인지 하나도 알지 못했다. 물론 그건 지금도 똑같지만, 그래도 지금은 우매함의 봉우리에 제대로 빠졌다는 생각이 든다. 다행히 내 실력이 많이 부족한지를 안다는 점이 그래도 크다는 것이다. 정말 다행이지..

"객체지향의 사실과 오해" 는 내가 컴공과를 들어온 이후로 찾아 읽은 최초의 책이다. 여기서 말하는 책은 지식이 꽉꽉 들어차 있는 Java 기본 문법 같은 전공책이 아니라, 어떠한 방향성에 대한 다른 개발자들의 의견을 찾아보고, 내 스스로 개념을 다시 적립하고 발전시키기 위한 목적이고, **어떻게 하면 조금 더 나은 코드를 작성할 수 있을까**라는 생각에서 찾아본, 수동적으로 본 책이 아니라는 뜻이다. 그만큼 이 책은 나에게 의미가 깊다. 그리고 그만큼 얻을 것도 정말 많았다. 앞으로 잊어버리지 않겠다는 의미에서, 이 책에 대한 의견을 정리하여 글로 남기고자 한다.

## 객체지향은 잘못 배우고 있었다.
책을 처음 펼친 순간부터, 머리를 한대 맞고 말았다. 나는 분명히 객체지향이 실세계를 본따 만든 것이라고 배웠고, 당연히 의심할 여지 없이 옳다고 여기고 있었다. 하지만 분명 괴리감이 있었는데, 왜 나는 인지하지 못했을까..

객체지향은 실세계를 모방하는 것이 아니다. 실세계에서는 붕어빵이 직접 무엇을 하지 않잖아!! 하지만 객체지향은 붕어빵이 직접 행동을 한다. 당연히, 모든 객체가 각자의 역할을 수행한다. 결국 객체지향의 목표는 **실세계를 모방하는 것이 아니라 신세계를 창조하는 것**이다. 하지만 처음 배우는 사람에겐 실세계의 모방이라는 말이 그렇게 설명이 잘 될 수가 없다. 대부분 처음 할때는 "이쯤 알고 넘어가면 된다" 이렇게 배우고, 그렇게 객체지향에 입문하게 되는데, 이 괴리감을 빨리 찾아내는 것이 중요하다고 생각한다. 

## 역할, 책임, 협력
이 책에서 정말정말 많이 나오는 세 단어이다. **역할, 책임, 협력.** 처음 읽을 때에는 협력 정도만 겉핥기식으로 이해했던 것 같다.(지금은 3회독째!) 하지만 지금은 어느정도 이해했다. 이해하고 나니 이 세 단어를 엄청 강조했던 만큼 핵심적인 내용이라는 생각이 들었다. 한마디로 객체는 서로의 협력으로 이루어지고, 협력을 위해서는 역할과 책임이 필요하다는 점이다. 여기서 한번에 이해가 안되었던 점은 **역할은 책임을 내포한다**는 것이었다. 두 개념을 이해한 것은 책을 어느 정도 읽고 난 후 다형성에 대한 이야기를 할 때였다. 하지만 나중의 이야기니 일단 넘어가자. 책임을 내포한다는 말로도 어느 정도는 이해할 수 있을 테니. 나에게는 왔다갔다가 아니라 개념 적립의 흐름을 작성하는 것이 목적이기 때문이다. 하지만 이를 미리 엿볼 수 있는 구절들이 있으니 한번 읽어보도록 하자.

> [!summary]+ 
> + 여러 객체가 동일한 역할을 수행할 수 있다.
> + 역할은 대체 가능성을 의미한다.
> + 책임을 수행하는 방법은 자율적으로 선택 가능하다.
> + 한 객체가 동시에 여러 역할을 수행할 수 있다.

## 어떤 객체도 섬이 아니다
이 책을 읽으면서 여러번 뒤통수를 맞는데, 이 문구도 그 중 하나이다. **어떤 객체도 섬이 아니다**는 말은 객체가 무엇인지 잘 설명해 준다고 생각한다. 객체지향은 **기능 구현을 위해 협력하는 객체들**로 이루어지는데, 아무와도 협력하지 않는 섬같은 객체가 있다면 둘 중 하나이다. 애초에 필요없는 객체였던가, 혼자서 모든 일을 처리할 수 있는 전지전능한 객체 말이다. 하지만 후자의 경우에는 결국 내부적인 복잡도 때문에 혼자서 자멸하고 말 것이다. 따라서 객체는 **충분히 협력적**이어야 한다.

또한 객체는 **충분히 자율적**이어야 한다. 객체 스스로가 자율성을 가지고 판단하고, 요청을 처리해야만 각자의 역할과 책임을 잘 이행한다고 볼 수 있다.

즉, 어플리케이션의 윤곽을 결정하는 것은 역할과 책임, 협력이지만 **협력에 참여자는 주체는 객체**라는 사실을 명심해야 한다.

## 상태와 행동
객체를 **상태와 행동**을 함께 지닌 실체로 정의하기도 한다. 객체는 상태와 행동을 하나의 단위로 묶는 자율적인 존재이다. 이를 통해 과거의 개발 방식과 객체 지향 방식의 차이점을 알 수 있다.

> [!check]+ 
> 
> + 과거 방식 : 데이터와 프로세스를 엄격하게 구분
> + 객체지향 : 데이터와 프로세스를 객체라는 하나의 틀 안에 함께 묶어 놓아 자율성 보장

각 객체마다 데이터를 같이 묶어 놓음으로서 자율성을 보장하고, 데이터를 이용하기 위해서는 자신만 참조하면 되므로 곧 객체지향이라는 말과도 잘 어울리게 된다. 객체는 다른 객체의 데이터나 메서드에 접근하지 않는다는 의미이고, 이 말은 다음과 같이 표현할 수도 있다.
**"다른 객체가 무엇(what)을 수행하는지는 알 수 있지만 어떻게(how) 수행하는지는 알 수 없다."**

## 요청과 응답, 메시지와 메서드
객체들이 서로 협력하기 위해서는 연락 메커니즘이 필요하다. 객체지향에서는 **요청과 응답**으로 이루어지는 이 메커니즘을 **메시지**로 표현한다. 객체지향 세계에서의 요청과 응답 메커니즘을 **메시지 송신자와 수신자**에 비유할 수 있다. 또한 메시지를 받아 각 객체가 어떻게 처리할지에 대한 방법을 **메서드**라고 한다.

처음에는 메시지와 메서드가 잘 이해가 되지 않았다. 하지만 이 개념은 **캡슐화**라는 개념과 같은 뜻으로 이해할 수 있었다. 또한 what/how와도 일맥상통하는 말이다. 다시 정리하자면 다음과 같다.

**외부의 요청이 무엇인지를 표현하는 메시지와 요청을 처리하기 위한 구체적인 방법인 메서드 분리는 결국 객체의 자율성을 높이는 핵심 메커니즘인 캡슐화와 연관되어 있다.**


> [!note]+ 
> + 메시지 : 객체지향 세계에서의 의사소통 수단
> + 메서드 : 객체가 수신된 메시지를 처리하는 방법
> + 송신자 : 메시지를 송신하는 객체
> + 수신자 : 메시지를 수신하는 객체


## 정리하자면..
+ 객체지향이란 시스템을 상호작용하는 **자율적인 객체들의 공동체**로 바라보고 객체를 이용해 시스템을 분할하는 방법이다.
+ 자율적인 객체란 **상태와 행위**를 함께 지니며 스스로 자기 자신을 책임지는 객체를 의미한다.
+ 객체는 시스템의 행위를 구현하기 위해 다른 객체와 **협력**한다. 각 객체는 협력 내에서 정해진 **역할**을 수행하며 역할은 관련된 **책임**의 집합이다.
+ 객체는 다른 객체와 협력하기 위해 메시지를 전송하고, **메시지**를 수신한 객체는 메시지를 처리하는 데 적합한 **메서드**를 자율적으로 선택한다.


**코드를 담는 클래스의 관점에서 메시지를 주고받는 객체의 관점 으로 사고의 중심을 전환하자**
어떤 클래스가 필요한가가 아니라 어떤 객체들이 어떤 메시지를 주고받으며 협력하는가이다.

**객체지향은 객체를 지향하는 것이지 클래스를 지향하는 것이 아니다.**