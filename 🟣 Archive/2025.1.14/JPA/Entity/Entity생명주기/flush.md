#jpa 

## flush
```java
em.flush();
```

- íŠ¸ëžœìž­ì…˜ commit í›„ ì¶”ê°€ì ì¸ ë™ìž‘ì´ ìžˆëŠ”ë° ë°”ë¡œ `em.flush();` ë©”ì„œë“œì˜ í˜¸ì¶œì´ë‹¤.
- flush ë©”ì„œë“œëŠ” **ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ ë³€ê²½ ë‚´ìš©ë“¤ì„ DBì— ë™ê¸°í™”í•˜ëŠ” ì—­í• **ì„ ìˆ˜í–‰í•œë‹¤. ë™ê¸°í™”ë¥¼ ìµœëŒ€í•œ ëŠ¦ì¶œ ìˆ˜ ìžˆëŠ” ì´ìœ ëŠ” [[ðŸŸ  Project/JPA/íŠ¸ëžœìž­ì…˜/íŠ¸ëžœìž­ì…˜|íŠ¸ëžœìž­ì…˜]]ì´ë¼ëŠ” ìž‘ì—… ë‹¨ìœ„ê°€ ìžˆê¸° ë•Œë¬¸ì´ë‹¤.
+ ì¦‰, **[[ì“°ê¸° ì§€ì—° ì €ìž¥ì†Œ]]ì˜ SQLë“¤ì„ DBì— ìš”ì²­í•˜ëŠ” ì—­í• **ì„ ìˆ˜í–‰í•œë‹¤.

ì´ ê¸°ëŠ¥ì„ ìž˜ í™œìš©í•˜ë©´ ëª¨ì•„ë‘” ë“±ë¡ ì¿¼ë¦¬ë¥¼ DBì— í•œë²ˆì— ì „ë‹¬í•˜ì—¬ ì„±ëŠ¥ì„ ìµœì í™”í•  ìˆ˜ ìžˆë‹¤.

### flush ì‹¤í–‰ ê³¼ì •
1. [[ë³€ê²½ ê°ì§€]]ê°€ ìž‘ë™í•´ì„œ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ìžˆëŠ” ëª¨ë“  ì—”í‹°í‹°ë¥¼ ìŠ¤ëƒ…ìƒ·ê³¼ ë¹„êµí•˜ì—¬ ìˆ˜ì •ëœ ì—”í‹°í‹°ë¥¼ ì°¾ëŠ”ë‹¤.
2. ìˆ˜ì •ëœ ì—”í‹°í‹°ëŠ” ìˆ˜ì • ì¿¼ë¦¬ë¥¼ ë§Œë“¤ì–´ ì“°ê¸° ì§€ì—° SQL ì €ìž¥ì†Œì— ë“±ë¡í•œë‹¤.
3. ì“°ê¸° ì§€ì—° SQL ì €ìž¥ì†Œì˜ ì¿¼ë¦¬ë¥¼ DBì— ì „ì†¡í•œë‹¤.(CRUD)

### ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ë¥¼ flushí•˜ëŠ” ë°©ë²•
1. em.flush()ë¥¼ ì§ì ‘ í˜¸ì¶œí•œë‹¤.
2. íŠ¸ëžœìž­ì…˜ commit ì‹œ flushê°€ ìžë™ í˜¸ì¶œëœë‹¤.
3. JPQL ì¿¼ë¦¬ ì‹¤í–‰ ì‹œ flushê°€ ìžë™ í˜¸ì¶œëœë‹¤.

> [!tip]+ 
> ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ìžˆëŠ” ë³€ê²½ì‚¬í•­ì„ ì ìš©ì‹œí‚¤ê¸° ìœ„í•´ì„œ JPQL ì¿¼ë¦¬ ì‹¤í–‰ ì „ flushê°€ ì‹¤í–‰ëœë‹¤.


### flush ëª¨ë“œ ì˜µì…˜
EntityManagerì— í”ŒëŸ¬ì‹œ ëª¨ë“œë¥¼ ì§ì ‘ ì§€ì •í•˜ë ¤ë©´ FlushModeTypeì„ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤. ëŒ€ë¶€ë¶„ AUTO ê¸°ë³¸ ì„¤ì •ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì§€ë§Œ, COMMIT ëª¨ë“œëŠ” ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•´ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.

> [!note]+ 
> + FlushModeType.AUTO : ì»¤ë°‹ì´ë‚˜ ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ë•Œ flush(ê¸°ë³¸ê°’)
> + FlushModeType.COMMIT : ì»¤ë°‹í•  ë•Œë§Œ í”ŒëŸ¬ì‹œ