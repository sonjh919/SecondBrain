#jpa 

## 단일 테이블 전략
이름 그대로 테이블을 하나만 사용한다. 그리고 구분 컬럼(DTYPE)으로 어떤 자식 데이터가 저장되었는지 구분한다. 조회할 때 [[Area/Database/RDB/SQL/Join/JOIN|JOIN]]을 사용하지 않으므로 일반적으로 가장 빠르다.

![[singletable.png]]
> [!caution]+ 
> 자식 엔티티가 매핑한 컬럼은 모두 null을 허용해야 한다. 부모 엔티티만 사용할 경우 자식 엔티티의 컬럼들은 모두 null이기 때문이다. 또한 구분 컬럼([[@DiscriminatorColumn]])을 꼭 사용해야 한다.


### 장단점
> [!summary]+ 장점
> + JOIN이 필요 없으므로 일반적으로 조회 성능이 빠르다.
> + 조회 쿼리가 단순하다.

> [!summary]+ 단점
> + 자식 엔티티가 매핑한 컬럼은 모두 null을 허용해야 한다.
> + 단일 테이블에 모든 것을 저장하므로 테이블이 커질 수 있다. 그러므로 상황에 따라서는 조회 성능이 오히려 느려질 수 있다.