---
title: ì˜ˆì™¸ ì²˜ë¦¬
date: 2024-01-02 15:33
categories:
  - Java
  - Javaë¬¸ë²•
tags:
  - Java
  - Javaë¬¸ë²•
image: 
path:
---
#Java 

## ì˜ˆì™¸ ì²˜ë¦¬
+ [[Throwable]]ì„ ìµœìƒìœ„ í´ë˜ìŠ¤ë¡œ ê°€ì§„ë‹¤.
+ ì‹¤í–‰ ì¤‘ ë°œìƒí•˜ëŠ” [[ğŸŸ  Project/Java API/java.lang/Throwable/Exception]]ì— ëŒ€í•´ í•¸ë“¤ë§ì„ í•´ ì£¼ëŠ” ê²ƒ.
+ [[Error]]ëŠ” ì²˜ë¦¬í•˜ì§€ ì•ŠëŠ”ë‹¤.
### ì˜ˆì™¸ Class ê³„ì¸µ êµ¬ì¡°
- **Checked Exception** : ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ì•¼ í•˜ëŠ” Class
- **Unchecked Exception** : ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ì£¼ì§€ ì•Šì•„ë„ ë˜ëŠ” Class

![[error.png]]
### 1. Throws
+ ë©”ì†Œë“œ ì„ ì–¸ ì‹œ throws ExceptionNameë¬¸ì„ ì¶”ê°€í•˜ì—¬ í˜¸ì¶œí•œ ìƒìœ„ ë©”ì†Œë“œì—ê²Œ ì²˜ë¦¬ë¥¼ ìœ„ì„
```java
public void checkEnoughMoney(int price, int money) throws Exception{}
```

### 2. try-catch-finally
+ ë°œìƒí•œ ì˜ˆì™¸ íƒ€ì…ê³¼ ì¼ì¹˜í•˜ëŠ” catchë¸”ë¡ì´ ì—†ìœ¼ë©´ ê°•ì œ ì¢…ë£Œëœë‹¤.
+ catch ë¸”ë¡ ë‚´ì—ì„œ ```System.exit(0)```ì„ í˜¸ì¶œí•˜ë©´ í”„ë¡œê·¸ë¨ì„ ì¢…ë£Œí•  ìˆ˜ ìˆë‹¤.
```java
try{
	ì˜ˆì™¸ê°€ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ìˆëŠ” ì‹¤í–‰ë¬¸(try ë¸”ë¡)
}
catch(ì²˜ë¦¬í•  ì˜ˆì™¸ íƒ€ì… ì„ ì–¸){
	ì˜ˆì™¸ ì²˜ë¦¬ë¬¸(catch ë¸”ë¡)
}
finally{ // ìƒëµ ê°€ëŠ¥
	ì˜ˆì™¸ ë°œìƒ ì—¬ë¶€ì™€ ìƒê´€ì—†ì´ ë¬´ì¡°ê±´ ì‹¤í–‰ë˜ëŠ” ë¬¸ì¥(finally ë¸”ë¡)
}
```

### 3. try-with-resource
- finallyì—ì„œ ì²˜ë¦¬í–ˆë˜ closeë¥¼ tryë¬¸ì—ì„œ ìë™ìœ¼ë¡œ closeì²˜ë¦¬í•œë‹¤.
- JDK 7ë¶€í„° ì§€ì›
```java
try(BufferedReader br = new BufferedReader(new FileReader("C/data/text.txt"))){
}
catch{
}
```

### Exceptionê³¼ overriding
- Overridingì‹œ throwsí•˜ëŠ” Exceptionì˜ ê°œìˆ˜ì™€ ìƒê´€ì—†ì´ ê°™ê±°ë‚˜ ë” êµ¬ì²´ì ì¸ ë²”ìœ„ë¡œë§Œ overridingì´ ê°€ëŠ¥í•˜ë‹¤.

```java
public class Parent{
			public void method() throws IOException{
			}
	}
	
	public class Child extends Parent{
		@override
		public void method() throws EOFException{
		}
	}
```

## ì‚¬ìš©ì ì˜ˆì™¸
+ ì§ì ‘ ì˜ˆì™¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ì´ë•Œì—ëŠ” Exceptionì„ ê¼­ ìƒì†ë°›ì•„ì•¼ í•œë‹¤.

```java
class OurBadException extends Exception {
	public OurBadException() {
		super("ìœ„í—˜í•œ í–‰ë™ì„ í•˜ë©´ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ ê¼­ í•´ì•¼í•©ë‹ˆë‹¤!");
	}
}

```

## Chained Exception: ì—°ê²°ëœ ì˜ˆì™¸
+ ì˜ˆì™¸ëŠ” ë‹¤ë¥¸ ì˜ˆì™¸ë¥¼ ìœ ë°œí•  ìˆ˜ ìˆë‹¤.
+ ì˜ˆì™¸ Aê°€ ì˜ˆì™¸ Bë¥¼ ë°œìƒì‹œì¼°ë‹¤ë©´, ì˜ˆì™¸ AëŠ” Bì˜ ì›ì¸ ì˜ˆì™¸ì´ë‹¤.
+ ì›ì¸ ì˜ˆì™¸ë¥¼ ìƒˆë¡œìš´ ì˜ˆì™¸ì— ë“±ë¡í•œ í›„ ë‹¤ì‹œ ìƒˆë¡œìš´ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¤ëŠ”ë°, ì´ë¥¼ ì˜ˆì™¸ ì—°ê²°ì´ë¼ê³  í•œë‹¤.

### ì˜ˆì™¸ë¥¼ ì—°ê²°í•˜ëŠ” ì´ìœ ?
1. ì–´ë–¤ íŠ¹ì •í•œ ì˜ˆì™¸ ìƒí™©ì„ ë§Œë“œëŠ” ì›ì¸ì´ ë˜ëŠ” ì˜ˆì™¸ê°€ ì—¬ëŸ¬ ê°€ì§€ì¼ ê²½ìš°, í•˜ë‚˜ì˜ í° ë¶„ë¥˜ì˜ ì˜ˆì™¸ë¡œ ë¬¶ì–´ì„œ ë‹¤ë£¨ê¸° ìœ„í•¨ì´ë‹¤.
2. checked exceptionì„ unchecked exceptionìœ¼ë¡œ í¬ì¥(wrapping)í•˜ëŠ”ë° ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë˜ê¸°ë„ í•œë‹¤.
3. ì›ì¸ì— ëŒ€í•œ trackingì´ í¸í•˜ë‹¤.

### ì›ì¸ ì˜ˆì™¸ ë©”ì„œë“œ
+ `initCause` : ì§€ì •í•œ ì˜ˆì™¸ë¥¼ ì›ì¸ ì˜ˆì™¸ë¡œ ë“±ë¡í•˜ëŠ” ë©”ì†Œë“œ
+ `getCause` : ì›ì¸ ì˜ˆì™¸ë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì†Œë“œ

```java
// ì—°ê²°ëœ ì˜ˆì™¸ 
public class main {

    public static void main(String[] args) {
        try {
            // ì˜ˆì™¸ ìƒì„±
            NumberFormatException ex = new NumberFormatException("ê°€ì§œ ì˜ˆì™¸ì´ìœ ");

            // ì›ì¸ ì˜ˆì™¸ ì„¤ì •(ì§€ì •í•œ ì˜ˆì™¸ë¥¼ ì›ì¸ ì˜ˆì™¸ë¡œ ë“±ë¡) chaining
            ex.initCause(new NullPointerException("ì§„ì§œ ì˜ˆì™¸ì´ìœ "));

            throw ex;
        } catch (NumberFormatException ex) {
            // ì˜ˆì™¸ ë¡œê·¸ ì¶œë ¥
            ex.printStackTrace();
            // ì˜ˆì™¸ ì›ì¸ ì¡°íšŒ í›„ ì¶œë ¥
            ex.getCause().printStackTrace();
        }

        // wrapping
        throw new RuntimeException(new Exception("ì´ê²ƒì´ ì§„ì§œ ì˜ˆì™¸ ì´ìœ  ì…ë‹ˆë‹¤."));
    }
}

Caused by: java.lang.NullPointerException: ì§„ì§œ ì˜ˆì™¸ì´ìœ 
```

## ì‹¤ì§ˆì  ì˜ˆì™¸ ì²˜ë¦¬ ë°©ë²•
ì‹¤ì§ˆì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì€ **ì˜ˆì™¸ ë³µêµ¬, ì˜ˆì™¸ ì²˜ë¦¬ íšŒí”¼, ì˜ˆì™¸ ì „í™˜** ì„¸ ê°€ì§€ ê²½ìš°ê°€ ìˆë‹¤.

### ì˜ˆì™¸ ë³µêµ¬
+ ìì£¼ ì‚¬ìš©ë˜ì§€ëŠ” ì•ŠëŠ” ë°©ì‹ì´ë‹¤.

```java
public String getDataFromAnotherServer(String dataPath) {
		try {
				return anotherServerClient.getData(dataPath).toString();
		} catch (GetDataException e) {
				return defaultData;
		}
}
```

### ì˜ˆì™¸ ì²˜ë¦¬ íšŒí”¼
+ ë” ë†’ì€ ë‹¨ê³„ì˜ ë©”ì†Œë“œì—ì„œ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë‚´ë³´ë‚´ëŠ” ê²½ìš°ê°€ ìˆë‹¤.

```java
public void someMethod() throws Exception { ... }

public void someIrresponsibleMethod() throws Exception {
		this.someMethod();
}
```

### ì˜ˆì™¸ ì „í™˜í•˜ê¸°
+ íšŒí”¼ì™€ ë¹„ìŠ·í•˜ì§€ë§Œ, ì¡°ê¸ˆ ë” ì ì ˆí•œ ì˜ˆì™¸ë¥¼ ë˜ì ¸ì£¼ëŠ” ê²½ìš°ë¡œ, ì œì¼ ë§ì´ ì‚¬ìš©í•œë‹¤.

```java
public void someMethod() throws IOException { ... }

public void someResponsibleMethod() throws MoreSpecificException {
		try {
			this.someMethod();
		} catch (IOException e) {
			throw new MoreSpecificException(e.getMessage());
		}
}
```