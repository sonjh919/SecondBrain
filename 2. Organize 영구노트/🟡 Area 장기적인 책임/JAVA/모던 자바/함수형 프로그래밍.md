---
title: 함수형 프로그래밍
date: 2024-01-03 10:22
categories:
  - Java
  - ModernJava
tags:
  - Java
  - ModernJava
image: 
path:
---
#Java 

## 함수형 프로그래밍
+ “수학의 함수처럼, **특정한 데이터에 의존하지 않고**, 관련없는 데이터를 변경하지도 않으며, 결과값이 **오직 입력값에만 영향을 받는 함수**를 순수함수라고 한다.
+ 함수형 프로그래밍의 목적은 **프로그램을 순수한 함수의 모음으로 바라보고 구현**하는 것이다.

### 순수함수와 아닌 함수
```java
// 수학의 함수
f(x, y) = x + 2xy

// 순수한 메서드
// input에 따라 output은 항상 일정하죠!
public int someMethod(int x, int y) {
	return x + 2y;
}

class notFunc {
	private int y = 0;
	private int result;

	// 순수 메서드가 아닌 메서드
	// 메서드 안에서 제어할 수 없는 y라는 값에 의해 output이 바뀔 수 있죠
	public int anotherMethod(int x) {
		return x + this.y * 2;
	}

	// 순수 메서드가 아닌 메서드 2
	// 메서드 내에서 this.result 값을 변경하고 반환하기 때문에
	// 순수 메서드라고 보기는 어렵습니다!
	public int otherMethod(int x, int y) {
		int result = x + 2 * y;
		this.result = result;
		return result;
	}
}
```

## 함수형 프로그래밍의 장점
+ 검증이 필요한 부분만 검증할 수 있기 때문에 검증이 쉽다.
+ 특정 input에 대한 output을 재사용(캐싱) 할 수 있기 때문에 성능 최적화가 쉽다.
+ 함수가 다른 값의 변경을 야기하지 않으므로 동시성 문제를 해결하기 쉽다.

## 함수형 프로그래밍의 아이디어
### 1. 함수를 일급 값으로: 메서드 참조
함수를 값으로 전달하기 위해 [[함수형 인터페이스]]를 사용하고 있다.
#### 일급 값
우리가 조작 가능한 값들, **기본값이나 객체** 등은 다음과 같은 특징을 지닌다.

> [!note]+ 
> 1. 함수에 인자로 넘길 수 있다.
> 2. 함수의 결과로 반환 할 수 있다.
> 3. 값을 수정할 수 있다
> 4. 값을 변수에 대입할 수 있다.

사실상 프로그래밍에서 지원하는 모든 연산을 지원하고 있고, 이러한 연산을 모두 지원하는 “값”들을 일급 시민, 또는 일급 객체라고 한다.

#### 이급 값
메서드를 생각해 보자. 메서드에 대해서는 특정한 연산을 지원하지 않기 때문에 이급 시민으로 볼 수 있다.
하지만, 함수를 값으로 취급 할 수 있다면 매우 많은 것들을 할 수 있고, 함수형 프로그래밍에서는 이를 적극적으로 사용할 수 있다.

**Java 8에서는 메서드 참조 기능을 도입하여 사용하고 있다.**

### 2. 람다 함수: 익명함수
- [[람다]]는 익명함수를 지칭하는 말 이다.
- 익명함수란 말 그대로 이름이 없는 함수를 뜻하며, **일급 객체**로 취급된다.
- 함수를 값으로 사용 할 수도 있으며 파라미터에 전달 하기, 변수에 대입 하기와 같은 연산들이 가능하다.

### 3. Stream
1. [[2. Organize 영구노트/🟡 Area 장기적인 책임/Java API/java.lang/Stream]]은 데이터 처리연산을 지원하도록 소스에서 추출된 연속된 요소이다.
2. 컬렉션이 데이터를 저장하거나 접근하는데 초점을 맞춘 인터페이스라면, 스트림은 **데이터를 처리**하는데 초점을 맞춘 인터페이스이다.
3. 컬렉션의 반복을 멋지게 처리하는 일종의 기능이자, 멀티스레드 관련 코드를 구현하지 않아도 알아서 병렬로 추가해주는 기능이다.